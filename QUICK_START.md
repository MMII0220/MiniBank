# –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é API GetAllAccounts

## üéØ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

‚úÖ **–ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç**: `GET /api/accounts`  
‚úÖ **Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 15 –º–∏–Ω—É—Ç  
‚úÖ **–ê–≤—Ç–æ–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ö–µ—à —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤  
‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –í–æ –≤—Å–µ—Ö —Å–ª–æ—è—Ö (Repository ‚Üí Service ‚Üí Controller)  

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Redis –∑–∞–ø—É—â–µ–Ω
redis-server

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
go run cmd/main.go
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```bash
curl -X POST http://localhost:8080/auth/login \
  -H "Content-Type: application/json" \
  -d '{"phone":"999123456","password":"password123"}'
```

### 3. –ó–∞–ø—Ä–æ—Å —Å–ø–∏—Å–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
```bash
curl -X GET http://localhost:8080/api/accounts \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

## üìã –û—Ç–≤–µ—Ç API

```json
{
  "success": true,
  "accounts": [
    {
      "ID": 1,
      "UserID": 123,
      "Currency": "TJS",
      "Balance": "1500.00",
      "Blocked": false,
      "CreatedAt": "2025-10-31T10:00:00Z",
      "UpdatedAt": "2025-10-31T12:00:00Z"
    }
  ],
  "total_count": 1
}
```

## ‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

- **–ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å**: –î–∞–Ω–Ω—ã–µ –∏–∑ –ë–î ‚Üí —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Redis
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –î–∞–Ω–Ω—ã–µ –∏–∑ Redis (–±—ã—Å—Ç—Ä–æ!)
- **–ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ –∫–µ—à–∞**: –ü—Ä–∏ –¥–µ–ø–æ–∑–∏—Ç–µ, —Å–Ω—è—Ç–∏–∏, –ø–µ—Ä–µ–≤–æ–¥–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
- **TTL**: 15 –º–∏–Ω—É—Ç

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
go run test_accounts.go
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Redis (.env)

```env
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----------|-------|----------|
| –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å | ~50-100ms | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| –ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å | ~1-5ms | Redis |
| –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ | ~1ms | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í 10-100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤! üöÄ